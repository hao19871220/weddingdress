<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>商品展示</title>
    <link href="../lib/css/global.css" rel="stylesheet" />
    <link href="../lib/css/commodity.css" rel="stylesheet" />
    <link href="../lib/css/zoom.css" rel="stylesheet" />
    <script src="../lib/js/jquery-1.9.1.min.js"></script>
    <script src="../lib/js/jquery.imagezoom.min.js"></script> 
</head>
<body>
    <header>
        <div class="xn-light">
            <div class="container">
                <ul>
                    <li><a href="#">登录</a></li>
                    <li><a href="#">注册</a></li>
                    <li><a href="#">我的订单</a></li>
                    <li><a href="#">我的收藏夹</a>|</li>
                    <li><a href="#">会员俱乐部</a></li>
                    <li><a href="#">客户服务</a></li>
                    <li><a href="#">手机版</a></li>
                </ul>
            </div>
        </div>
        <div class="container xn-header">
            <img src="../lib/img/logo.png" alt="" class="logo" />
            <ul>
                <li><a href="#">婚礼购物</a></li>
                <li><a href="#">私人定制</a></li>
                <li><a href="#">婚礼策划</a></li>
                <li><a href="#">线下服务</a></li>
                <li><a href="#">最美新娘</a></li>
            </ul>
            <div class="rside">
                <img src="../lib/img/prove.jpg" alt="" /> 100%正品
                <img src="../lib/img/num.jpg" alt="" /> 30万方实体城<img src="../lib/img/pg.png" alt="" /><img src="../lib/img/news.png" alt="" />
            </div>
        </div>
    </header>
    <img src="../lib/img/commodity/banner.jpg" style="width:100%;"/>
    <div class="com-main">
        <div class="com-header">
            <div class="box">
                <ul class="tb-thumb" id="thumblist">
                    <li class="tb-selected"><div class="tb-pic tb-s40"><a href="#"><img src="../lib/plugin/zoom/images/01_small.jpg" mid="../lib/plugin/zoom/images/01_mid.jpg" big="../lib/plugin/zoom/images/01.jpg" /></a></div></li>
                    <li><div class="tb-pic tb-s40"><a href="#"><img src="../lib/plugin/zoom/images/02_small.jpg" mid="../lib/plugin/zoom/images/02_mid.jpg" big="../lib/plugin/zoom/images/02.jpg" /></a></div></li>
                    <li><div class="tb-pic tb-s40"><a href="#"><img src="../lib/plugin/zoom/images/03_small.jpg" mid="../lib/plugin/zoom/images/03_mid.jpg" big="../lib/plugin/zoom/images/03.jpg" /></a></div></li>
                    <li><div class="tb-pic tb-s40"><a href="#"><img src="../lib/plugin/zoom/images/04_small.jpg" mid="../lib/plugin/zoom/images/04_mid.jpg" big="../lib/plugin/zoom/images/04.jpg" /></a></div></li>
                    <li><div class="tb-pic tb-s40"><a href="#"><img src="../lib/plugin/zoom/images/05_small.jpg" mid="../lib/plugin/zoom/images/05_mid.jpg" big="../lib/plugin/zoom/images/05.jpg" /></a></div></li>
                </ul>
                <div class="tb-booth tb-pic tb-s310">
                    <a href="../lib/plugin/zoom/images/01.jpg"><img src="../lib/plugin/zoom/images/01_mid.jpg" alt="美女" rel="../lib/plugin/zoom/images/01.jpg" class="jqzoom" /></a>
                </div>
            </div>
            <div class="rside">
                <div class="sp-title">王微微同款大裙摆收腰罗马复古婚纱设计</div>
                <div class="sp-price">
                    <label>促销价</label><label class="num">￥<span class="sys_item_price">998</span></label>
                    <label class="sp-bj">结婚季大促</label>
                    <label class="original">原价</label><label class="ordel">￥<span class="sys_item_mktprice">2998</span></label>
                </div>
                <div class="sp-line">
                    <img src="../lib/img/commodity/pj.png" style="padding:10px 40px 0 0;"/>
                    <label>评价</label>
                    <div class="sales">
                        2313件 销量
                    </div>
                </div>
                <!--规格属性-->
                <div class="sys_item_spec">
                    <div class="clearfix iteminfo_parameter sys_item_specpara" data-sid="1">
                        <p>颜色：</p>
                        <div>
                            <ul class="sys_spec_img">
                                <li data-aid="3"><a href="javascript:;" title="白色"><img src="../lib/img/commodity/1.png" alt="白色" /></a><i></i></li>
                                <li data-aid="4"><a href="javascript:;" title="粉色"><img src="../lib/img/commodity/2.png" alt="粉色" /></a><i></i></li>
                                <li data-aid="8"><a href="javascript:;" title="蓝色"><img src="../lib/img/commodity/3.png" alt="蓝色" /></a><i></i></li>
                                <li data-aid="9"><a href="javascript:;" title="绿色"><img src="../lib/img/commodity/4.png" alt="绿色" /></a><i></i></li>
                                <li data-aid="10"><a href="javascript:;" title="黄色"><img src="../lib/img/commodity/5.png" alt="黄色" /></a><i></i></li>
                                <li data-aid="12"><a href="javascript:;" title="灰色"><img src="../lib/img/commodity/6.png" alt="灰色" /></a><i></i></li>
                            </ul>

                        </div>
                    </div>
                    <div class="clearfix iteminfo_parameter sys_item_specpara" data-sid="2">
                        <p>尺码：</p>
                        <div>
                            <ul class="sys_spec_text">
                                <li data-aid="13"><a href="javascript:;" title="S">S</a><i></i></li>
                                <li data-aid="14"><a href="javascript:;" title="M">M</a><i></i></li>
                                <li data-aid="16"><a href="javascript:;" title="L">L</a><i></i></li>
                                <li data-aid="17"><a href="javascript:;" title="XL">XL</a><i></i></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!--规格属性-->
                <div class="sp-custom">
                    <div>尺码定制</div>
                    <input type="checkbox"  />
                </div>
            </div>
        </div>
    </div>
    <footer>
        <div class="container xn-foot">
            <div class="fleft">
                <label>商品集合</label>
                <p>婚纱 (1725)</p>
                <p>礼服 (635)</p>
                <p>男士 (2514)</p>
                <p>配件 (76)</p>
            </div>
            <div class="fright">
                <label>网站</label>
                <p>服务条款</p>
                <p>隐私政策</p>
                <p>版权政策</p>
                <p>宣传资料</p>
                <p>支持</p>
            </div>
            <div class="fright">
                <label>虎丘婚纱</label>
                <p>关于我们</p>
                <p>服务理念</p>
                <p>职位</p>
                <p>联系我们</p>
            </div>
            <div class="fright">
                <label>关注我们</label>
                <p>虎丘婚纱为爱服务-苏州</p>
                <p>2015 © All rights reserved. 虎丘婚纱</p>
                <img src="../lib/img/wx.png" style="padding-right:10px;" />
                <img src="../lib/img/sina.png" />
            </div>
        </div>
    </footer>
    <script type="text/javascript">
        $(document).ready(function () {
            $(".jqzoom").imagezoom();

            $("#thumblist li a").click(function () {
                $(this).parents("li").addClass("tb-selected").siblings().removeClass("tb-selected");
                $(".jqzoom").attr('src', $(this).find("img").attr("mid"));
                $(".jqzoom").attr('rel', $(this).find("img").attr("big"));
            });

        });
        //价格json
        var sys_item = {
            "mktprice": "2998",
            "price": "998",
            "sys_attrprice": { "3_13": { "price": "998", "mktprice": "2998" }, "3_14": { "price": "7.80", "mktprice": "14.00" }, "3_16": { "price": "8.80", "mktprice": "15.00" }, "3_17": { "price": "9.80", "mktprice": "16.00" }, "4_13": { "price": "6.80", "mktprice": "13.00" }, "4_14": { "price": "7.80", "mktprice": "14.00" }, "4_16": { "price": "8.80", "mktprice": "15.00" }, "4_17": { "price": "9.80", "mktprice": "16.00" }, "8_13": { "price": "6.80", "mktprice": "13.00" }, "8_14": { "price": "7.80", "mktprice": "1400" }, "8_16": { "price": "8.80", "mktprice": "15.00" }, "8_17": { "price": "9.80", "mktprice": "16.00" }, "9_13": { "price": "6.80", "mktprice": "13.00" }, "9_14": { "price": "7.80", "mktprice": "14.00" }, "9_16": { "price": "8.80", "mktprice": "15.00" }, "9_17": { "price": "9.80", "mktprice": "16.00" }, "10_13": { "price": "6.80", "mktprice": "13.00" }, "10_14": { "price": "7.80", "mktprice": "14.00" }, "10_16": { "price": "8.80", "mktprice": "15.00" }, "10_17": { "price": "9.80", "mktprice": "16.00" }, "12_13": { "price": "6.80", "mktprice": "13.00" }, "12_14": { "price": "7.80", "mktprice": "14.00" }, "12_16": { "price": "8.80", "mktprice": "15.00" }, "12_17": { "price": "9.80", "mktprice": "16.00" } }
        };


        //商品规格选择
        $(function () {
            $(".sys_item_spec .sys_item_specpara").each(function () {
                var i = $(this);
                var p = i.find("ul>li");
                p.click(function () {
                    if (!!$(this).hasClass("selected")) {
                        $(this).removeClass("selected");
                        i.removeAttr("data-attrval");
                    } else {
                        $(this).addClass("selected").siblings("li").removeClass("selected");
                        i.attr("data-attrval", $(this).attr("data-aid"))
                    }
                    getattrprice() //输出价格
                })
            })

            //获取对应属性的价格
            function getattrprice() {
                var defaultstats = true;
                var _val = '';
                var _resp = {
                    mktprice: ".sys_item_mktprice",
                    price: ".sys_item_price"
                }  //输出对应的class
                $(".sys_item_spec .sys_item_specpara").each(function () {
                    var i = $(this);
                    var v = i.attr("data-attrval");
                    if (!v) {
                        defaultstats = false;
                    } else {
                        _val += _val != "" ? "_" : "";
                        _val += v;
                    }
                })
                if (!!defaultstats) {
                    _mktprice = sys_item['sys_attrprice'][_val]['mktprice'];
                    _price = sys_item['sys_attrprice'][_val]['price'];
                } else {
                    _mktprice = sys_item['mktprice'];
                    _price = sys_item['price'];
                }
                //输出价格
                $(_resp.mktprice).text(_mktprice);  ///其中的math.round为截取小数点位数
                $(_resp.price).text(_price);
            }
        })
    </script>
</body>
</html>
